CREATE TABLE HocKi
(
	ID INT NOT NULL IDENTITY(1,1),
	TenHocKi NVARCHAR(50) NOT NULL,
	Nam INT NOT NULL,
	PRIMARY KEY (ID)
);

CREATE TABLE Khoa
(
	ID INT NOT NULL IDENTITY(1,1),
	TenKhoa NVARCHAR(255) NOT NULL,
	PRIMARY KEY (ID)
);

CREATE TABLE Lop
(
	ID INT NOT NULL IDENTITY(1,1),
	Khoa_ID INT NOT NULL,
	TenLop NVARCHAR(255) NOT NULL,
	PRIMARY KEY (id),
	FOREIGN KEY (Khoa_ID) REFERENCES Khoa(ID) ON DELETE CASCADE,
);

CREATE TABLE HocPhan
(
	ID INT NOT NULL IDENTITY(1,1),
	MaHP CHAR(6) NOT NULL,
	TenHP NVARCHAR(255) NOT NULL,
	TuChon INT NOT NULL,
	SoTietLT INT NOT NULL,
	SoTietTH INT NOT NULL,
	SoTC INT NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE GiaoVien
(
	ID INT NOT NULL IDENTITY(1,1),
	TenGV NVARCHAR(255) NOT NULL,
	PRIMARY KEY (id)
);

CREATE TABLE PhanCong
(
	ID INT NOT NULL IDENTITY(1,1),
	Lop_ID INT NOT NULL,
	HocKi_ID INT NOT NULL,
	HocPhan_ID INT NOT NULL,
	GiaoVien_ID INT NOT NULL,
	LoaiPhong NVARCHAR(50) NOT NULL,
	GhiChu NVARCHAR(255) NOT NULL,
	SoSV INT NOT NULL,
	NhomLT INT,
	NhomHT INT,
	HeSo INT NOT NULL,
	PRIMARY KEY (id),
	FOREIGN KEY (Lop_ID) REFERENCES Lop(ID) ON DELETE CASCADE,
	FOREIGN KEY (HocKi_ID) REFERENCES HocKi(ID) ON DELETE CASCADE,
	FOREIGN KEY (HocPhan_ID) REFERENCES HocPhan(ID) ON DELETE CASCADE,
	FOREIGN KEY (GiaoVien_ID) REFERENCES GiaoVien(ID) ON DELETE CASCADE
);